<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Table</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../lib/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/Aurora/src/sass/aurora.css">
    <link rel="stylesheet" href="/Aurora/docs/docs.css">
    <link rel="stylesheet" href="../lib/highlight.github.min.css">
    <link rel="stylesheet" href="/Aurora/docs/css/markdown.css">
    <script src="../lib/highlight.min.js"></script>
    <script src="../lib/beautify.min.js"></script>
    <script src="../lib/beautify-css.min.js"></script>
    <script src="../lib/beautify-html.min.js"></script>
    <style>
      .browsehappy {
        height: 40px;
        line-height: 40px;
        background-color: #f5ffbd;
        color: #333;
        text-align: center;
        font-size: 12px;
      }
    </style>
  </head>
  <body><!--[if lt IE 8]>
    <p class="browsehappy">
      您正在使用 <strong>过时</strong> 的浏览器.
      请 <a href="http://browsehappy.com/">更新您的浏览器</a>
      来使用此项目
    </p><![endif]-->
    <au-app id="app" v-cloak>
      <au-header>
        <h1 slot="logo">Aurora<span class="version">v0.1</span></h1>
        <au-menu slot="content-left" menu-trigger="click" :selected="selected">
          <au-menu-item href="app.html" value="app">App</au-menu-item>
          <au-menu-item href="grid.html" value="grid">Grid</au-menu-item>
          <au-menu-item href="flex.html" value="flex">Flex</au-menu-item>
          <au-menu-item href="button.html" value="button">Button</au-menu-item>
          <au-menu-item>表单
            <au-menu>
              <au-menu-item href="input.html" value="input">Input</au-menu-item>
              <au-menu-item href="select.html" value="select">Select</au-menu-item>
              <au-menu-item href="checkbox.html" value="checkbox">Checkbox</au-menu-item>
              <au-menu-item href="radio.html" value="radio">Radio</au-menu-item>
              <au-menu-item href="form.html" value="form">Form</au-menu-item>
              <au-menu-item href="date-picker.html" value="date-picker">DatePicker</au-menu-item>
              <au-menu-item href="upload.html" value="upload">Upload</au-menu-item>
            </au-menu>
          </au-menu-item>
          <au-menu-item>区块
            <au-menu>
              <au-menu-item href="panel.html" value="panel">Panel</au-menu-item>
              <au-menu-item href="table.html" value="table">Table</au-menu-item>
              <au-menu-item href="tabs.html" value="tabs">Tabs</au-menu-item>
              <au-menu-item href="pagination.html" value="pagination">Pagination</au-menu-item>
              <au-menu-item href="dropdown.html" value="dropdown">Dropdown</au-menu-item>
              <au-menu-item href="modal.html" value="modal">Modal</au-menu-item>
              <au-menu-item href="drag-modal.html" value="drag-modal">DragModal</au-menu-item>
              <au-menu-item href="menu.html" value="menu">Menu</au-menu-item>
              <au-menu-item href="tag.html" value="tag">Tag</au-menu-item>
              <au-menu-item href="tree.html" value="tree">Tree</au-menu-item>
            </au-menu>
          </au-menu-item>
          <au-menu-item>消息
            <au-menu>
              <au-menu-item href="message.html" value="message">Message</au-menu-item>
              <au-menu-item href="tooltip.html" value="tooltip">Tooltip</au-menu-item>
              <au-menu-item href="pop-confirm.html" value="pop-confirm">PopConfirm</au-menu-item>
            </au-menu>
          </au-menu-item>
        </au-menu>
        <div slot="content-right">
          <au-menu>
            <au-menu-item><img src="https://avatars0.githubusercontent.com/u/790296" style="width:40px;height:40px;border-radius:40px;margin-right:10px;border:1px solid #ccc;">Kevin
              <au-menu>
                <au-menu-item>我的信息</au-menu-item>
                <au-menu-item>退出</au-menu-item>
              </au-menu>
            </au-menu-item>
          </au-menu>
        </div>
      </au-header>
      <au-content>
        <div slot="sidebar">
          <au-menu-group title="基础">
            <au-menu :selected="selected">
              <au-menu-item href="install.html" value="install">安装</au-menu-item>
              <au-menu-item href="app.html" value="app">App</au-menu-item>
              <au-menu-item href="grid.html" value="grid">Grid</au-menu-item>
              <au-menu-item href="flex.html" value="flex">Flex</au-menu-item>
              <au-menu-item href="button.html" value="button">Button</au-menu-item>
            </au-menu>
          </au-menu-group>
          <au-menu-group title="表单">
            <au-menu :selected="selected">
              <au-menu-item href="input.html" value="input">Input</au-menu-item>
              <au-menu-item href="select.html" value="select">Select</au-menu-item>
              <au-menu-item href="checkbox.html" value="checkbox">Checkbox</au-menu-item>
              <au-menu-item href="radio.html" value="radio">Radio</au-menu-item>
              <au-menu-item href="form.html" value="form">Form</au-menu-item>
              <au-menu-item href="date-picker.html" value="date-picker">DatePicker</au-menu-item>
              <au-menu-item href="upload.html" value="upload">Upload</au-menu-item>
            </au-menu>
          </au-menu-group>
          <au-menu-group title="其他">
            <au-menu :selected="selected">
              <au-menu-item icon="clone">区块
                <au-menu>
                  <au-menu-item href="panel.html" value="panel">Panel</au-menu-item>
                  <au-menu-item href="table.html" value="table">Table</au-menu-item>
                  <au-menu-item href="tabs.html" value="tabs">Tabs</au-menu-item>
                  <au-menu-item href="pagination.html" value="pagination">Pagination</au-menu-item>
                  <au-menu-item href="dropdown.html" value="dropdown">Dropdown</au-menu-item>
                  <au-menu-item href="modal.html" value="modal">Modal</au-menu-item>
                  <au-menu-item href="drag-modal.html" value="drag-modal">DragModal</au-menu-item>
                  <au-menu-item href="menu.html" value="menu">Menu</au-menu-item>
                  <au-menu-item href="tag.html" value="tag">Tag</au-menu-item>
                  <au-menu-item href="tree.html" value="tree">Tree</au-menu-item>
                </au-menu>
              </au-menu-item>
              <au-menu-item icon="sticky-note">消息
                <au-menu>
                  <au-menu-item href="message.html" value="message">Message</au-menu-item>
                  <au-menu-item href="tooltip.html" value="tooltip">Tooltip</au-menu-item>
                  <au-menu-item href="pop-confirm.html" value="pop-confirm">PopConfirm</au-menu-item>
                </au-menu>
              </au-menu-item>
            </au-menu>
          </au-menu-group>
        </div>
        <div slot="container">
          <au-panel>
            <div class="markdown-body"><h1>AuTable</h1>
<p>表格支持固定表头和固定列。</p>
<p><code>au-table</code>表格组件。需要设置属性<code>data</code>来填充表格，可设置表格高度，表格是否带分割线，表格loading状态等。</p>
<p><code>au-table-column</code>列组件，作为<code>au-table</code>的直接子组件。
属性<code>label</code>表示列名，将会出现在表头。属性<code>attr-name</code>表格需要展示的内容（对应父组件<code>data</code>属性中的列）。
可通过vue2的<a href="http://vuejs.org/v2/guide/components.html#Scoped-Slots">scoped slots</a>实现自定义内容。</p>
<h2>例子</h2>
<h3>基础表格</h3>

            </div>
            <demo>
              <au-table :data="data">
                <au-table-column label="ID" attr-name="id"></au-table-column>
                <au-table-column label="Name" attr-name="name"></au-table-column>
                <au-table-column label="Age" attr-name="age"></au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {data:{data}}
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>空表格</h3>
<p>空表格的提示文案可以通过具名slot <code>empty</code> 进行设置。</p>

            </div>
            <demo>
              <au-table :data="emptyList">
                <div slot="empty">还没有数据, 点击
                  <au-button size="mini" type="primary" @click="addData">添加</au-button>
                </div>
                <au-table-column label="ID" attr-name="id"></au-table-column>
                <au-table-column label="姓名" attr-name="name"></au-table-column>
                <au-table-column label="年龄" attr-name="age"></au-table-column>
                <au-table-column label="操作">
                  <template scope="scope">
                    <au-button type="danger" size="small" @click="removeData">删除</au-button>
                  </template>
                </au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  export default {
                    data:{
                      emptyList:[]
                    },
                    methods: {
                      addData(){
                        this.emptyList.push({id: 1, name: 'kevin', age: 20});
                      },
                      removeData(){
                        this.emptyList = [];
                      }
                    }
                  }
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>限制高度</h3>
<p>不带滚动条的表格将被内容撑开高度，可以通过<code>max-height</code>控制表格高度，超出后可滚动。</p>

            </div>
            <demo>
              <au-table :data="data" max-height="200">
                <au-table-column label="ID" attr-name="id"></au-table-column>
                <au-table-column label="姓名" attr-name="name"></au-table-column>
                <au-table-column label="年龄" attr-name="age"></au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {data:{data}}
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>隐藏header &amp; 带border</h3>
<p><code>show-header</code>属性控制表头是否展示。</p>
<p><code>bordered</code>属性控制是否展示分割线。</p>

            </div>
            <demo>
              <au-table :data="data" max-height="200" :show-header="false" bordered>
                <au-table-column label="ID" attr-name="id"></au-table-column>
                <au-table-column label="Name" attr-name="name"></au-table-column>
                <au-table-column label="Age" attr-name="age"></au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {data:{data}}
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>带loading的表格</h3>

            </div>
            <demo>
              <div style="margin-bottom:5px">
                <au-checkbox v-model="loading" label="是否显示loading"></au-checkbox>
              </div>
              <au-table :data="data" :loading="loading">
                <au-table-column label="ID" attr-name="id"></au-table-column>
                <au-table-column label="Name" attr-name="name"></au-table-column>
                <au-table-column label="Age" attr-name="age"></au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {data:{data, loading: true}}
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>列高亮</h3>
<p>下例展示使用高亮设置 和 无表头 实现列表格</p>

            </div>
            <demo>
              <au-table :data="data" :show-header="false">
                <au-table-column label="Name" attr-name="name" highlight></au-table-column>
                <au-table-column label="Age" attr-name="age"></au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {data:{data}}
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>自定义内容</h3>
<p><code>scoped slots</code>控制表格显示内容</p>

            </div>
            <demo>
              <au-table :data="data">
                <au-table-column label="ID" attr-name="id">
                  <template scope="scope">id:{{scope.data.id}}</template>
                </au-table-column>
                <au-table-column label="Name" attr-name="name">
                  <template scope="scope">name:{{scope.data.name}}</template>
                </au-table-column>
                <au-table-column label="Age" attr-name="age">
                  <template scope="scope">age:{{scope.data.age}}</template>
                </au-table-column>
                <au-table-column label="自定义">
                  <template scope="scope">自定义内容</template>
                </au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {data:{data}}
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>固定列 &amp; 固定列宽</h3>
<p>通过列属性<code>fixed</code>来固定列。通过列属性<code>width</code>控制列宽。</p>
<blockquote>
<p>固定列只能在两边固定，如：<code>|fixed|fixed|col|col|fixed|</code>, 从左到右，1、2列靠左固定，5列靠右固定。
如果有隔行设置将不生效。如： <code>|fixed|col|fixed|col|fixed|</code>, 从左到右，1列靠左固定，5列靠右固定，3列将被忽略。</p>
</blockquote>

            </div>
            <demo>
              <au-table :data="data" bordered max-height="200">
                <au-table-column label="ID" attr-name="id" fixed></au-table-column>
                <au-table-column label="Name" attr-name="name" width="200"></au-table-column>
                <!-- 这一列的fixed不生效-->
                <au-table-column label="Name" attr-name="name" width="300" fixed></au-table-column>
                <au-table-column label="Name" attr-name="name" width="400"></au-table-column>
                <au-table-column label="Name" attr-name="name" width="500"></au-table-column>
                <au-table-column label="Age" attr-name="age" width="100" fixed></au-table-column>
                <au-table-column label="操作" fixed>
                  <template scope="scope">
                    <au-button type="success" size="small">操作</au-button>
                  </template>
                </au-table-column>
              </au-table>
            </demo>
            <div class="markdown-body"><h3>checkbox表格</h3>
<p>table支持checkbox设置，用来获取选中的行数据。</p>
<p>给列设置<code>type=&quot;checkbox&quot;</code>，该列会自动变为checkbox。此时可绑定<code>v-model</code>，作为数组，数值中的值为当前选中的行数据。</p>
<p>可通过事件 <code>select</code>， 事件的处理都将传入选中的所有数据。</p>
<blockquote>
<p>事件在<strong>选中</strong>或<strong>反选</strong>后触发</p>
</blockquote>

            </div>
            <demo>
              <au-table ref="table" :data="data" @select="messageSelect">
                <au-table-column type="checkbox" v-model="checkeds"></au-table-column>
                <au-table-column label="ID" attr-name="id"></au-table-column>
                <au-table-column label="Name" attr-name="name"></au-table-column>
                <au-table-column label="Age" attr-name="age"></au-table-column>
              </au-table>
              <p>当前选中：{{JSON.stringify(checkeds)}}</p>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {
                    data () {
                      return {
                        data,
                        checkeds: [
                          data[2],
                          data[3]
                        ]
                      }
                    }
                  }
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h3>展开行</h3>
<p>table支持展开行。</p>
<ul>
<li>通过列属性 <code>type=&quot;expand&quot;</code> 设置当前列为可展开行按钮。</li>
<li>如果列设置为展开按钮，该列的自定义内容将作为展开内容</li>
<li>列属性 <code>expand-rows=&quot;[rowData]&quot;</code> 控制哪些列默认展开。列属性 <code>default-expand-all</code> 控制默认全部展开。</li>
</ul>

            </div>
            <demo>
              <au-table :data="data">
                <au-table-column type="expand">
                  <template scope="scope">
                    <div>展开内容为：{{scope.data.id}}-{{scope.data.name}}-{{scope.data.age}}</div>
                  </template>
                </au-table-column>
                <au-table-column label="ID" attr-name="id"></au-table-column>
                <au-table-column label="Name" attr-name="name"></au-table-column>
                <au-table-column label="Age" attr-name="age"></au-table-column>
              </au-table>
              <template type="au-demo">
                <script>
                  const data = new Array(10);
                  for(let i=data.length-1; i>=0; i--){
                    data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100) };
                  }
                  export default {data:{data}}
                  
                  
                </script>
              </template>
            </demo>
            <div class="markdown-body"><h2>au-table</h2>
<h3>属性</h3>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>数据内容</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>show-header</td>
<td>是否显示标题</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>loading</td>
<td>是否显示加载中样式</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>max-height</td>
<td>设置最大高度。如果内容超出高度，将会出现滚动条</td>
<td>String,Number</td>
<td></td>
</tr>
<tr>
<td>bordered</td>
<td>是否显示分割线</td>
<td>Boolean</td>
<td>false</td>
</tr>
</tbody>
</table>
<h2>au-table-column</h2>
<h3>属性</h3>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>显示的标题</td>
<td>String</td>
<td>''</td>
</tr>
<tr>
<td>attr-name</td>
<td>属性名</td>
<td>String</td>
<td>''</td>
</tr>
<tr>
<td>highlight</td>
<td>高亮显示此列</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>列类型(可选值: &quot;&quot;, &quot;checkbox&quot;, &quot;expand&quot;)</td>
<td>String</td>
<td>''</td>
</tr>
<tr>
<td>v-model</td>
<td>type:checkbox时的值, 通过和data中的值做全等比较</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>fixed</td>
<td>固定列</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>width</td>
<td>固定列宽</td>
<td>String, Number</td>
<td></td>
</tr>
<tr>
<td>expand-rows</td>
<td>默认展开行。<code>type=&quot;expand&quot;</code>时有效</td>
<td>Array</td>
<td></td>
</tr>
<tr>
<td>default-expand-all</td>
<td>是否默认展开所有。<code>type=&quot;expand&quot;</code>时有效</td>
<td>Boolean       false</td>
<td></td>
</tr>
</tbody>
</table>

            </div>
          </au-panel>
          <au-footer>Copyright © 2017 美利金融 Aurora项目</au-footer>
        </div>
      </au-content>
    </au-app>
    <script src="../lib/vue.js"></script>
    <script src="/Aurora/src/aurora.js"></script>
    <script src="/Aurora/docs/docs.js"></script>
    <script>
      const mixins = []
      !function () {
        // Vue.config.silent = true
        // 自动语法高亮
        hljs.initHighlightingOnLoad();
        // 给每一个code代码块分配id 用于demo组件
        let codeId = 1;
        document.querySelectorAll('demo').forEach(_=>{
          _.setAttribute('code-id', codeId++);
        });
      
        const sections = document.querySelectorAll('.docs-section')
        ;[].forEach.call(sections, (section) => {
          loadHtml(section)
          loadJs(section)
        })
      
        function loadHtml (section) {
          const template = section.querySelector('template.html')
          if (!template) {
            return
          }
          const code = section.querySelector('.docs-code docs-code.html')
          if (!code) {
            return
          }
          section.querySelector('.docs-panel-content').innerHTML = template.innerHTML
          code.setAttribute('html', convert(template.innerHTML))
      
          template.parentElement.removeChild(template)
      
          function convert(html) {
            html = html.trim()
      
            html = html_beautify(html, {
              indent_size: 2
            })
            html = html.replace(/=""/g, '')
            return htmlEncode(html)
          }
        }
      
        function loadJs (section) {
          const template = section.querySelector('template.js')
          if (!template) {
            return
          }
          const code = section.querySelector('.docs-code docs-code.js')
          if (!code) {
            return
          }
          const html = template.innerHTML
          const js = convert(html)
      
          code.setAttribute('html', 'export default ' + htmlEncode(js))
          template.parentElement.removeChild(template)
      
          var result
          eval(`result = ${js}`)
          mixins.push(result)
      
          function convert (js) {
            const div = document.createElement('div')
            div.innerHTML = js
            js = div.textContent.trim()
            js = js_beautify(js, {
              indent_size: 2
            })
            return js
          }
        }
      
        function htmlEncode (str) {
          var s = "";
          if (str.length == 0) return "";
          s = str.replace(/&/g, "&gt;");
          s = s.replace(/</g, "&lt;");
          s = s.replace(/>/g, "&gt;");
          s = s.replace(/ /g, "&nbsp;");
          s = s.replace(/\'/g, "&#39;");
          s = s.replace(/\"/g, "&quot;");
          s = s.replace(/\n/g, "<br>");
          return s;
        }
      
        Vue.component('docs-code', {
          template: '<pre><code v-html="html"></code></pre>',
          props: {
            html: String
          },
          mounted () {
            hljs.highlightBlock(this.$el.querySelector('code'))
          }
        })
      
        mixins.push({
          data () {
            return {
              selected: [],
              columns: [
                {
                  label: '参数',
                  attrName: 'name'
                },
                {
                  label: '说明',
                  attrName: 'desc'
                },
                {
                  label: '类型',
                  attrName: 'type'
                },
                {
                  label: '默认值',
                  attrName: 'default'
                }
              ],
              eventColumns: [
                {
                  label: '名称',
                  attrName: 'name'
                },
                {
                  label: '说明',
                  attrName: 'desc'
                },
                {
                  label: '回调函数参数',
                  attrName: 'args'
                }
              ]
            }
          },
          created () {
            const match = window.location.href.match(/\/([-\w]+)\.html/)
            if (match) {
              this.selected.push(match[1])
            }
          }
        })
      }()
      
    </script>
    <script>
      const data = new Array(10);
      for(let i=data.length-1; i>=0; i--){
        data[i] = { id: i+1, name: 'kevin', age: Math.round(Math.random()*100)};
      }
      new Vue({
        el: '#app',
        mixins,
        data () {
          return {
            data,
            emptyList: [],
            loading: true,
            checkeds: [
              data[1],
              data[2]
            ]
          }
        },
        methods: {
          data:{
            emptyList:[]
          },
          addData(){
            this.emptyList.push({id: 1, name: 'kevin', age: 20});
          },
          removeData(){
            this.emptyList = [];
          },
          messageSelect(data){
            this.$message('info', '选中行');
          },
        }
      })
    </script>
  </body>
</html>